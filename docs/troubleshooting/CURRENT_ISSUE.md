# Current Issue: TanStack Router Version Mismatch

## Status: RESOLVED – Using official TanStack Start scaffold

## The Error
```
@tanstack/router-generator does not provide export 'CONSTANTS'
```

## Root Cause
- Wrong scaffold command used (`npm create tanstack@latest` instead of `npm create @tanstack/start@latest`)
- Resulted in React Router app, not TanStack Start
- Package version mismatches

## What We Know
- ✅ Correct scaffold: `npm create @tanstack/start@latest apps/web`
- ✅ Uses `@tanstack/react-start` package (not `@tanstack/start`)
- ✅ File-based routing in `src/routes/` (not `app/routes/`)
- ✅ Route tree auto-generated by `tanstackStart()` Vite plugin
- ✅ All packages match official TanStack Start template

## What We Did
1. Used correct scaffold command: `npm create @tanstack/start@latest apps/web`
2. Verified package.json matches official template
3. Ensured `vite.config.ts` has `tanstackStart()` plugin
4. Routes are in `src/routes/` (file-based routing)

## Confirm It Stays Fixed
1. Use `npm create @tanstack/start@latest` for new projects
2. Routes go in `src/routes/`, not `app/routes/`
3. `vite.config.ts` must include `tanstackStart()` plugin
4. Package name is `@tanstack/react-start`, not `@tanstack/start`

## If This Fails Again
- Remove `apps/web` and re-scaffold with correct command
- Verify structure matches official TanStack Start template
- Check `vite.config.ts` has correct plugin

---

## Diagnostic Commands

### Check Installed Versions
```bash
cd apps/web
npm list @tanstack/react-start @tanstack/react-router @tanstack/router-plugin
```

### Check All TanStack Packages
```bash
npm list | findstr tanstack
```

### See What's in node_modules
```bash
ls node_modules/@tanstack
```

---

## Options Being Considered

### Option A: Re-scaffold (Recommended)
- Remove `apps/web` directory
- Run `npm create @tanstack/start@latest apps/web`
- Copy routes/components into new structure

### Option B: Fix Existing Setup
- Update `vite.config.ts` to use `tanstackStart()` plugin
- Move routes from `app/routes/` to `src/routes/`
- Update imports in router files

---

**Updated**: 2025-10-30 17:45 PM (resolved using official scaffold)
